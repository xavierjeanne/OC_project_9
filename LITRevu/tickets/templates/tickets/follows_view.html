{% extends "base.html" %}
{% load widget_tweaks %}
{% block content %}

<div class="flex items-center justify-center w-full min-h-[80vh] px-4">
  
    <!-- Colonne Connexion -->
      <div class="bg-white shadow-lg rounded-lg p-10 max-w-md w-full">
          <h1 class="text-3xl font-semibold mb-6 text-center">Connectez-vous</h1>
  
          <form method="post" class="space-y-6">
              {% csrf_token %}
              {% for field in form %}
                  <div>
                  {{ field.label_tag }}
          
                  {{ field|add_class:"w-full px-4 py-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-600" }}
                 
                  </div>
              {% endfor %}
              {% if message %}
                  <div class="text-red-600 text-left mb-4">
                      <p>{{ message }}</p>
                  </div>
              {% endif %}
              <button type="submit" class="w-full cursor-pointer px-6 py-3 bg-green-600 text-white rounded hover:bg-green-700 transition">
                  Se connecter
              </button>
          </form>
      </div>
  </div>

<h3>Utilisateurs que vous suivez</h3>
<ul>
    {% for relation in following %}
        <li>
            {{ relation.followed.username }}
            <form method="post" action="{% url 'unfollow' relation.followed.id %}" style="display:inline;">
                {% csrf_token %}
                <button type="submit">Se d√©sabonner</button>
            </form>
        </li>
    {% empty %}
        <li>Vous ne suivez personne.</li>
    {% endfor %}
</ul>

<h3>Utilisateurs qui vous suivent</h3>
<ul>
    {% for relation in followers %}
        <li>{{ relation.follower.username }}</li>
    {% empty %}
        <li>Personne ne vous suit.</li>
    {% endfor %}
</ul>

{% endblock %}